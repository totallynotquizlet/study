<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flashcards | totallynotquizlet</title>
    
    <!-- Shared Styles -->
    <link rel="stylesheet" href="../Shared/base.css">
    <link rel="stylesheet" href="../Shared/ui.css">
    
    <!-- Mode Specific Styles -->
    <link rel="stylesheet" href="style.css">
    
    <!-- Fonts & Tailwind (as per legacy) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link rel="icon" type="image/png" href="../favicon.png">
</head>
<body>

    <div id="app-container" class="max-w-4xl mx-auto p-4 md:p-8 min-h-screen relative flex flex-col">
        
        <!-- Top Left: Settings Button -->
        <button id="settings-button" class="absolute top-6 left-6 md:top-8 md:left-10 z-50 p-2 rounded-full transition-all duration-300">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.096 2.572-1.065z"></path>
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
            </svg>
        </button>

        <!-- Top Right: Theme Toggle -->
        <button id="theme-toggle-button" class="absolute top-6 right-6 md:top-8 md:right-10 z-50 p-2 rounded-full transition-all duration-300">
            <span id="theme-icon-sun" class="text-3xl" style="line-height: 1;">☼</span>
            <svg id="theme-icon-moon" class="w-6 h-6 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>
            </svg>
        </button>

        <!-- Header -->
        <img src="../favicon.png" alt="Site Logo" id="header-logo" class="absolute top-6 md:top-8 left-1/2 -translate-x-1/2 z-50">
        <header class="mb-6 pt-20">
            <h1 id="header-title" class="text-3xl text-center mb-6">Totally Not Quizlet</h1>
            <!-- Navigation injected by Shared/nav.js -->
            <nav class="flex justify-center p-2 space-x-1 md:space-x-2"></nav>
        </header>

        <!-- Main Content -->
        <main id="main-content" class="flex-grow">
            <!-- Flashcards View Container -->
            <div id="flashcards-view" class="app-view">
                
                <!-- 3D Card Container -->
                <div class="perspective-container h-96">
                    <div id="flashcard-container" class="flashcard relative w-full h-full cursor-pointer rounded-2xl">
                        
                        <!-- Front Face -->
                        <div id="flashcard-front" class="card-face absolute w-full h-full p-6 rounded-2xl flex items-center justify-center">
                            <button class="tts-button" title="Read text aloud">
                                <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                  <path stroke-linecap="round" stroke-linejoin="round" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707A1 1 0 0112 6.586v10.828a1 1 0 01-1.707.707L5.586 15z" />
                                </svg>
                            </button>
                            <p class="text-3xl font-medium text-center"></p>
                        </div>
                        
                        <!-- Back Face -->
                        <div id="flashcard-back" class="card-face card-back absolute w-full h-full p-6 rounded-2xl flex items-center justify-center">
                            <button class="tts-button" title="Read text aloud">
                                <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                  <path stroke-linecap="round" stroke-linejoin="round" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707A1 1 0 0112 6.586v10.828a1 1 0 01-1.707.707L5.586 15z" />
                                </svg>
                            </button>
                            <p class="text-2xl font-medium text-center"></p>
                        </div>

                    </div>
                </div>

                <!-- Navigation Controls -->
                <div id="flashcard-nav" class="flex justify-between items-center mt-6">
                    <button id="prev-card-button" class="py-2 px-5 rounded-lg font-medium">
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="3">
                          <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
                        </svg>
                    </button>
                    <div id="card-counter" class="font-medium">1 / 10</div>
                    <button id="next-card-button" class="py-2 px-5 rounded-lg font-medium">
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="3">
                          <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
                        </svg>
                    </button>
                </div>

                <!-- Restart Button -->
                <div class="mt-8 flex justify-center">
                    <button id="flashcard-restart-button" class="secondary-action-button font-medium py-2 px-6 rounded-lg flex items-center gap-2 transition-colors hover:text-[var(--color-primary)] hover:border-[var(--color-primary)]">
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
                        </svg>
                        Restart
                    </button>
                </div>
            </div>
        </main>

        <!-- Footer (Required for About/Keybinds linkage) -->
        <footer class="text-center p-6 mt-8 border-t">
            <p class="mb-2">Created by Jacob Nedell</p>
            <div class="flex justify-center space-x-4">
                <button id="about-button" class="footer-link underline cursor-pointer">About</button>
                <button id="keybinds-button" class="footer-link underline cursor-pointer">Keybinds</button>
                <a href="https://totallynotquizlet.github.io/memorize/" class="footer-link underline">tnq memorize</a>
                <a href="https://forms.gle/aorM6MFQvaTMf16j9" class="footer-link underline" target="_blank" rel="noopener noreferrer">Bug Report</a>
                <a href="https://forms.gle/Z1xESserXb1NVVDv6" class="footer-link underline" target="_blank" rel="noopener noreferrer">Feature Request</a>
            </div>
        </footer>
        
        <!-- Toast Notification -->
        <div id="toast-notification" class="fixed bottom-6 right-6 py-3 px-5 rounded-lg shadow-xl opacity-0 translate-y-4 transition-all duration-300 z-50"></div>
    </div>

    <!-- Modals -->

    <!-- Settings Modal (Specific to Deck/Flashcards) -->
    <div id="settings-modal-overlay" class="fixed inset-0 z-50 flex items-center justify-center p-4 modal-overlay">
        <div class="modal-backdrop fixed inset-0"></div>
        <div id="settings-modal-content" class="relative w-full max-w-md p-6 md:p-8 rounded-2xl space-y-6 modal-content">
            <button id="settings-modal-close" class="absolute top-4 right-5 text-3xl font-bold modal-close-button">&times;</button>
            <h2 class="text-2xl font-bold mb-4">Study Set Options</h2>
            
            <div>
                <label for="setting-deck-title" class="create-label text-xs font-bold text-[var(--color-text-secondary)] uppercase">DECK TITLE</label>
                <input type="text" id="setting-deck-title" class="w-full transparent-input" placeholder="Enter a title...">
            </div>
            <div>
                <label class="create-label text-xs font-bold text-[var(--color-text-secondary)] uppercase">SHUFFLE CARDS</label>
                <button id="setting-toggle-shuffle" class="settings-toggle-button w-full">
                    Shuffle
                </button>
            </div>
            <div>
                <label class="create-label text-xs font-bold text-[var(--color-text-secondary)] uppercase">START WITH</label>
                <button id="setting-toggle-start-with" class="settings-toggle-button w-full">
                    Term
                </button>
            </div>

            <div class="pt-4 border-t border-dashed border-[var(--color-border)]">
                <label class="create-label text-xs font-bold text-[var(--color-text-secondary)] uppercase">EXPORT</label>
                <div class="flex justify-center">
                    <button id="copy-deck-button" class="secondary-action-button">
                        Copy all terms and definitions
                    </button>
                </div>
            </div>

            <!-- Share button embedded in settings for mobile convenience -->
            <div class="pt-2 flex justify-center">
                <button id="share-deck-button"
                    class="main-action-button px-4 py-3 text-base font-semibold text-center justify-center hidden">
                    Share Deck Link
                </button>
            </div>

        </div>
    </div>

    <!-- About Modal (Shared) -->
    <div id="about-modal-overlay" class="fixed inset-0 z-50 flex items-center justify-center p-4 modal-overlay">
        <div class="modal-backdrop fixed inset-0"></div>
        <div id="about-modal-content" class="relative w-full max-w-md p-6 md:p-8 rounded-2xl modal-content">
            <button id="about-modal-close" class="absolute top-4 right-5 text-3xl font-bold modal-close-button">&times;</button>
            <h2 class="text-2xl font-bold mb-4">About This Site</h2>
            <p>
                This study site was created to be an alternative to other options that bombard you 
                with ads or make you pay to use them. The site includes flashcards, multiple 
                choice questions, matching questions, and text questions with AI to intelligently help you memorize for school! With the 
                base64 URLs, you can share study sets you've created without having to create an 
                account and risk getting your personal information sold. Simply press the "Share 
                Deck" button in the top menu to instantly copy the link to your clipboard for fast 
                sharing. Your progress is stored locally in your browser and will not be deleted 
                unless you clear your history or site data. This site is still under works 
                and will contine to bring new features over time. Enjoy studying!
            </p>
        </div>
    </div>

    <!-- Keybinds Modal (Shared) -->
    <div id="keybinds-modal-overlay" class="fixed inset-0 z-50 flex items-center justify-center p-4 modal-overlay">
        <div class="modal-backdrop fixed inset-0"></div>
        <div id="keybinds-modal-content" class="relative w-full max-w-lg p-6 md:p-8 rounded-2xl modal-content">
            <button id="keybinds-modal-close" class="absolute top-4 right-5 text-3xl font-bold modal-close-button">&times;</button>
            <h2 class="text-2xl font-bold mb-6">Keyboard Shortcuts</h2>
            <div class="space-y-6">
                <div>
                    <h3 class="text-lg font-semibold mb-2">Flashcards Mode</h3>
                    <ul class="keybind-list">
                        <li><kbd>Space</kbd><span>Flip the current card</span></li>
                        <li><kbd>→</kbd><span>Show the next card</span></li>
                        <li><kbd>←</kbd><span>Show the previous card</span></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="../Shared/storage.js"></script>
    <script src="../Shared/nav.js"></script>
    <script src="script.js"></script>

</body>
</html>